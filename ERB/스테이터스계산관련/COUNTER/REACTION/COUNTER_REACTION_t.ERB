;************************************************************************
;명령어 실행시 캐릭터측에서 리액션을 반환하는 처리
;밀려서 넘어지는 것과는 관계가 없고, 카운터와 동렬로 취급되어 까다로웠으므로 분리
;************************************************************************
@EVENT_COUNTER_REACTION(ARG,ARG:1)
IF MASTER_POSE(SET_V,SET_P) == ARG && TCVAR:ARG:억지로
	LOCAL = RAND:2 + 1
	SELECTCASE LOCAL
		CASE 1
			TCVAR:ARG:21 = 1
		CASE 2
			TCVAR:ARG:21 = 2
	ENDSELECT
	TCVAR:ARG:20 = 506
;질삽입
ELSEIF MASTER_POSE(SET_V,SET_P) == ARG
	LOCAL = RAND:7 + 1
	SELECTCASE LOCAL
		CASE 1
			SIF ABL:ARG:질 < 2
				RETURN 0
			TCVAR:ARG:21 = 1
		;정말좋아 hold
		CASE 2
			SIF !TALENT:ARG:연모
				RETURN 0
			SIF TEQUIP:ARG:체위 == 1 || TEQUIP:ARG:체위 == 4
				TCVAR:ARG:21 = 2
		;성교 과시하고
		CASE 3
			SIF ABL:ARG:노출벽 < 2
				RETURN 0
			SIF TEQUIP:ARG:체위 == 3
				TCVAR:ARG:21 = 3
		CASE 4
			SIF EXP:ARG:자궁구개발경험 < 50 || TEQUIP:ARG:자궁
				RETURN 0
			SIF ABL:ARG:질 < 2
				RETURN 0
			TEQUIP:ARG:자궁 = 1
			TCVAR:ARG:21 = 4
		CASE 5
			SIF !TALENT:ARG:연모
				RETURN 0
			SIF ABL:ARG:V감각 < 5
				RETURN 0
			TCVAR:ARG:21 = 5
		CASE 6
			SIF EXP:ARG:자궁구개발경험 < 100
				RETURN 0
			SIF ABL:ARG:질 < 3
				RETURN 0
			SIF !TEQUIP:ARG:자궁
				RETURN 0
			TEQUIP:ARG:자궁 = 2
			TCVAR:ARG:21 = 6
		CASE 7
			SIF TEQUIP:ARG:손가락접촉부위
				RETURN 0
			SIF !TALENT:ARG:연모
				RETURN 0
			SIF TEQUIP:ARG:체위 != 3 && TEQUIP:ARG:체위 != 1
				RETURN 0
			TCVAR:ARG:21 = 7
	ENDSELECT
	SIF TCVAR:ARG:21
		TCVAR:ARG:20 = 500
;애널 삽입
ELSEIF MASTER_POSE(SET_A,SET_P) == ARG
	LOCAL = RAND:2 + 1
	SELECTCASE LOCAL
		CASE 1
			SIF ABL:ARG:애널 < 2
				RETURN 0
			TCVAR:ARG:21 = 1
		CASE 2
			SIF TEQUIP:ARG:손가락접촉부위
				RETURN 0
			SIF !TALENT:ARG:연모
				RETURN 0
			SIF TEQUIP:ARG:체위 != 3 && TEQUIP:ARG:체위 != 1
				RETURN 0
			TCVAR:ARG:21 = 7
	ENDSELECT
	SIF TCVAR:ARG:21
		TCVAR:ARG:20 = 501
;수음
ELSEIF MASTER_POSE(SET_YUBI, SET_P) == ARG
	LOCAL = RAND:3 + 1
	SELECTCASE LOCAL
		CASE 1
			SIF ABL:ARG:손가락 < 2
				RETURN 0
			TCVAR:ARG:21 = 1
		;구슬 비비어
		CASE 2
			SIF ABL:ARG:손가락 < 2
				RETURN 0
			SIF ARG == TARGET && SELECTCOM == 80
				TCVAR:ARG:21 = 2
		CASE 3
			SIF BASE:PLAYER:발기 < 1000
				RETURN 0
			SIF ARG == TARGET && SELECTCOM == 80
				TCVAR:ARG:21 = 3
	ENDSELECT
	SIF TCVAR:ARG:21
		TCVAR:ARG:20 = 502
;펠라치오
ELSEIF MASTER_POSE(SET_M,SET_P) == ARG
	LOCAL = RAND:3 + 1
	SELECTCASE LOCAL
		CASE 1
			SIF ABL:ARG:혀 < 2
				RETURN 0
			TCVAR:ARG:21 = 1
		;구슬 빨고
		CASE 2
			SIF ABL:ARG:혀 < 2
				RETURN 0
			SIF ABL:ARG:봉사정신 < 5
				RETURN 0
			SIF ARG == TARGET
				RETURN 0
			TCVAR:ARG:21 = 2
		;딥스로트
		CASE 3
			SIF ABL:ARG:혀 < 3
				RETURN 0
			SIF BASE:PLAYER:발기 < 1000
				RETURN 0
			SIF ARG == TARGET && SELECTCOM == 81
				TCVAR:ARG:21 = 3
		;펠라 자위
		CASE 4
			SIF ABL:ARG:노출벽 < 2
				RETURN 0
			TCVAR:ARG:21 = 4
	ENDSELECT
	SIF TCVAR:ARG:21
		TCVAR:ARG:20 = 503
;파이즈리
ELSEIF ARG == TARGET && SELECTCOM == 82
	LOCAL = RAND:4 + 1
	SELECTCASE LOCAL
		CASE 1
			SIF ARG == TARGET || SELECTCOM == 82
				RETURN 0
			SIF ABL:ARG:가슴 < 2
				RETURN 0
			TCVAR:ARG:21 = 1
		;세로 파이즈리
		CASE 2
			SIF ABL:ARG:가슴 < 3
				RETURN 0
			SIF TALENT:ARG:가슴사이즈 < 1
				RETURN 0
				TCVAR:ARG:21 = 2
		;노력해 골짜기를 만든다
		CASE 3
			SIF ABL:ARG:가슴 < 3
				RETURN 0
			SIF ARG == TARGET && SELECTCOM == 82
				TCVAR:ARG:21 = 3
		CASE 4
			SIF ABL:ARG:가슴 < 2
				RETURN 0
			SIF ABL:ARG:가슴 < 2
				RETURN 0
			SIF ABL:ARG:봉사정신 < 5
				RETURN 0
			TCVAR:ARG:21 = LOCAL
	ENDSELECT
	SIF TCVAR:ARG:21
		TCVAR:ARG:20 = 504
;가랑이
ELSEIF MASTER_POSE(SET_C,SET_P) == ARG
	LOCAL = RAND:2 + 1
	SELECTCASE LOCAL
		CASE 1
			SIF ABL:ARG:허리 < 2
				RETURN 0
			TCVAR:ARG:21 = 1
		;수음 추가
		CASE 2
			SIF ABL:ARG:허리 < 2
				RETURN 0
			SIF ABL:ARG:손가락 < 2
				RETURN 0
			SIF ARG == TARGET && SELECTCOM == 83
				TCVAR:ARG:21 = 2
	ENDSELECT
	SIF TCVAR:ARG:21
		TCVAR:ARG:20 = 505

;MASTER의 가슴이 부재중의 경우
;ELSEIF !MASTER_POSE(0, SET_B)
;	IF !TEQUIP:ARG:손가락접촉부위
;		TCVAR:ARG:21 = 1
;	ELSEIF !TEQUIP:ARG:입접촉부위
;		TCVAR:ARG:21 = 2
;	ENDIF
;	SIF TCVAR:ARG:21
;		TCVAR:ARG:20 = 510

ENDIF
