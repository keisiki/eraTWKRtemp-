;C감각
@ABLUP0
CALL ABL_UP(0)

;V감각
@ABLUP1
CALL ABL_UP(1)

;A감각
@ABLUP2
CALL ABL_UP(2)

;B감각
@ABLUP3
CALL ABL_UP(3)
;M감각
@ABLUP4
CALL ABL_UP(4)

;순종
@ABLUP10
CALL ABL_UP(10)

;욕망
@ABLUP11
CALL ABL_UP(11)

;기교
@ABLUP12
CALL ABL_UP(12)

;봉사정신
@ABLUP13
CALL ABL_UP(13)

;노출벽
@ABLUP14
CALL ABL_UP(14)

;마조끼
@ABLUP15
CALL ABL_UP(15)

;새드끼
@ABLUP16
CALL ABL_UP(16)

;레즈끼
@ABLUP17
CALL ABL_UP(17)

;호모끼
@ABLUP18
CALL ABL_UP(18)

;자위중독
@ABLUP30
CALL ABL_UP(30)

;정액중독
@ABLUP31
CALL ABL_UP(31)

;레즈중독
@ABLUP32
CALL ABL_UP(32)

;게이중독
@ABLUP33
CALL ABL_UP(33)

@ABLUP34
CALL ABL_UP(34)
@ABLUP35
CALL ABL_UP(35)
;범용 처리
@ABL_UP(ARG)
SETCOLOR C_RED
IF !RAND:2
PRINTFORML 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어 보고 있어
ELSE
PRINTFORMW 그러한 일 한다고 해 기다려버리는 아저씨가 와요.
ENDIF
RESETCOLOR
[SKIPSTART]
DRAWLINE
;상한
CALL MAXABL(ARG)
SIF RESULT
	RETURN 0

VARSET LOCAL
;개별 처리
;봉사정신
SIF ARG == 13
	PRINTFORML 순종{ABL:ARG + 1}LV이상 필요
;마족기분
SIF ARG == 15
	PRINTFORML 욕망{ABL:ARG + 1}LV이상 필요
;사족기분
SIF ARG == 16
	PRINTFORML 욕망{ABL:ARG + 1}LV이상 필요
;자위중독
SIF ARG == 30
	PRINTFORMLC감각{ABL:ARG + 1}LV이상, 노출벽{ABL:ARG + 1}LV이상 필요
;정액중독
SIF ARG == 31
	PRINTFORML 봉사정신{ABL:ARG + 1}LV이상 필요
;레즈중독
SIF ARG == 32
	PRINTFORML 레즈끼{ABL:ARG + 1}LV이상 필요
;게이중독
SIF ARG == 33
	PRINTFORML 호모끼{ABL:ARG + 1}LV이상 필요

IF EXP_DEMAND(ARG, 0,53) == 1
	PRINTFORML 이상경험 있어, 한편
ELSEIF EXP_DEMAND(ARG, 0,53) > 1
	PRINTFORML 이상경험{EXP_DEMAND(ARG, 0,43)}이상, 한편
ENDIF
FOR LOCAL, 0,4
	IF JUEL_DEMAND(ARG, LOCAL) == -2
		PRINTL 능력 부족
		BREAK
	ENDIF
	SIF JUEL_DEMAND(ARG, LOCAL) < 0
		CONTINUE
	PRINTFORM [{LOCAL}] -
	;필요한 보주를 찾는다
	FOR LOCAL:1, 0,100
		IF JUEL_DEMAND(ARG, LOCAL, LOCAL:1) > 0
			SIF JUEL:(LOCAL:1) < JUEL_DEMAND(ARG, LOCAL, LOCAL:1)
				LOCAL:3 ++
			PRINTFORM  %PALAMNAME:(LOCAL:1)%의 구슬×{JUEL_DEMAND(ARG, LOCAL, LOCAL:1)}
		ENDIF
	NEXT
	;필요한 경험을 찾는다
	FOR LOCAL:1, 0,100
		IF EXP_DEMAND(ARG, LOCAL, LOCAL:1) > 0
			SIF  EXP:(LOCAL:1) < EXP_DEMAND(ARG, LOCAL, LOCAL:1)
				LOCAL:4 ++
			;이상경험은 먼저 처리했다
			SIF LOCAL:1 == 43
				CONTINUE
			PRINTFORM  %EXPNAME:(LOCAL:1)%
			IF EXP_DEMAND(ARG, LOCAL, LOCAL:1) == 1
				PRINT 가 필요
			ELSE
				PRINTFORM {EXP_DEMAND(ARG, LOCAL, LOCAL:1)}이상
			ENDIF
		ENDIF
	NEXT
	PRINT ···
	SIF LOCAL:3
		PRINT  보주 부족
	SIF LOCAL:4
		PRINT  경험 부족
	IF !LOCAL:3 && !LOCAL:4 && !LOCAL:5
		LOCAL:(10 + LOCAL) = 1
		PRINT OK
	ENDIF
	LOCAL:3 = 0
	LOCAL:4 = 0
	LOCAL:5 = 0
	PRINTL 
NEXT

PRINTL [100] - 그만둔다

INPUT
IF RESULT == 100
	RETURN 0
;ELSEIF RESULT < 0 || RESULT > LOCAL
;	RESTART
;ELSEIF !LOCAL:(10 + RESULT)
;	PRINTW 조건을 채우고 있지 않습니다
;	RESTART
ELSE
	RETURN 0
ENDIF

FOR LOCAL, 0,40
	JUEL:LOCAL -= JUEL_DEMAND(ARG, RESULT, LOCAL)
NEXT
ABL:ARG += 1
PRINTFORMW %ABLNAME:ARG%의 레벨이{ABL:ARG}가 되었습니다

[SKIPEND]
RETURN 0

@ISABLUP(ARG)
#FUNCTION
VARSET LOCAL
;상한 설정
IF ABL:ARG >= 99
	RETURNF 0
ELSEIF ABL:ARG >= 5 && !TALENT:3
	RETURNF 0
ENDIF

FOR LOCAL, 0,4
	SIF JUEL_DEMAND(ARG, LOCAL) == -2
		RETURNF 0
	SIF JUEL_DEMAND(ARG, LOCAL) < 0
		CONTINUE
	;필요한 보주를 찾는다
	FOR LOCAL:1, 0,100
		IF JUEL_DEMAND(ARG, LOCAL, LOCAL:1) > 0
			SIF JUEL:(LOCAL:1) < JUEL_DEMAND(ARG, LOCAL, LOCAL:1)
				LOCAL:2 ++
		ENDIF
	NEXT
	;필요한 경험을 찾는다
	FOR LOCAL:1, 0,100
		IF EXP_DEMAND(ARG, LOCAL, LOCAL:1) > 0
			SIF  EXP:(LOCAL:1) < EXP_DEMAND(ARG, LOCAL, LOCAL:1)
				LOCAL:2 ++ 
		ENDIF
	NEXT
	SIF !LOCAL:2
		RETURNF 1
	LOCAL:2 = 0
NEXT

@JUEL_UP_SPECIAL(ARG, 늘리는주, 참조능력, PERCENTAGE, 표시, PATTERN)
#DIMS 늘리는주
#DIMS 참조능력
#DIM UP_JL
#DIM UP_ABL
#DIM PERCENTAGE
#DIM 표시
#DIM PATTERN
#DIM 상승량
;특수한 이벤트로 주를 늘리기 위한 함수
;ARG의 JUEL:UP_JL의 구슬을 ABL:UP_ABL를 올리기 위해서(때문에) 필요한 PERCENTAGE 퍼센트만 늘려

;사용례:쾌C(0)를 자위중독(30) 올리는데 필요한 양의50%만 올린다, 메시지 표시한다
;CALL JUEL_UP_SPECIAL(ARG,"쾌C","자위중독", 50,1)

UP_ABL = FINDELEMENT(ABLNAME, 참조능력)
UP_JL = FINDELEMENT(PALAMNAME, 늘리는주)

SELECTCASE UP_ABL
	CASE 0
		LOCAL = JUEL_DEMAND_0(PATTERN, UP_JL, ARG)
		LOCAL = LOCAL * (2 + TALENT:ARG:C감도) / 2
	CASE 1
		LOCAL = JUEL_DEMAND_1(PATTERN, UP_JL, ARG)
		LOCAL = LOCAL * (2 + TALENT:ARG:V감도) / 2
	CASE 2
		LOCAL = JUEL_DEMAND_2(PATTERN, UP_JL, ARG)
		LOCAL = LOCAL * (2 + TALENT:ARG:A감도) / 2
	CASE 3
		LOCAL = JUEL_DEMAND_3(PATTERN, UP_JL, ARG)
		LOCAL = LOCAL * (2 + TALENT:ARG:B감도) / 2
	CASE 4
		LOCAL = JUEL_DEMAND_4(PATTERN, UP_JL, ARG)
		LOCAL = LOCAL * (2 + TALENT:ARG:M감도) / 2
	CASE 10
		LOCAL = JUEL_DEMAND_10(PATTERN, UP_JL, ARG)
	CASE 11
		LOCAL = JUEL_DEMAND_11(PATTERN, UP_JL, ARG)
	CASE 12
		LOCAL = JUEL_DEMAND_12(PATTERN, UP_JL, ARG)
	CASE 13
		LOCAL = JUEL_DEMAND_13(PATTERN, UP_JL, ARG)
	CASE 14
		LOCAL = JUEL_DEMAND_14(PATTERN, UP_JL, ARG)
	CASE 15
		LOCAL = JUEL_DEMAND_15(PATTERN, UP_JL, ARG)
	CASE 16
		LOCAL = JUEL_DEMAND_16(PATTERN, UP_JL, ARG)
	CASE 17
		LOCAL = JUEL_DEMAND_17(PATTERN, UP_JL, ARG)
	CASE 18
		LOCAL = JUEL_DEMAND_18(PATTERN, UP_JL, ARG)
	CASE 30
		LOCAL = JUEL_DEMAND_30(PATTERN, UP_JL, ARG)
	CASE 31
		LOCAL = JUEL_DEMAND_31(PATTERN, UP_JL, ARG)
	CASE 32
		LOCAL = JUEL_DEMAND_32(PATTERN, UP_JL, ARG)
	CASE 33
		LOCAL = JUEL_DEMAND_33(PATTERN, UP_JL, ARG)
	CASE 34
		LOCAL = JUEL_DEMAND_34(PATTERN, UP_JL, ARG)
	CASE 35
		LOCAL = JUEL_DEMAND_35(PATTERN, UP_JL, ARG)
ENDSELECT
상승량 = MAX(LOCAL * PERCENTAGE / 100, PERCENTAGE)
JUEL:ARG:UP_JL += 상승량
;PRINTFORML %PALAMNAME:UP_JL%의 구슬 ＋{LOCAL * PERCENTAGE / 100} (%CALLNAME:ARG%)
IF 표시
	CALL COLORMESSAGE(@"%PALAMNAME:UP_JL%의 구슬 ＋{상승량} (%CALLNAME:ARG%)", C_PINK, 1)
ELSE
	[IF_DEBUG]
	CALL COLORMESSAGE(@"%PALAMNAME:UP_JL%의 구슬 ＋{상승량} (%CALLNAME:ARG%)", C_PINK, 1)
	[ENDIF]
ENDIF