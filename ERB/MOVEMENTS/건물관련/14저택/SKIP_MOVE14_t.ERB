@SKIP_MOVE_14(ARG:0, ARG:1)

;현재위치 취득
LOCAL:0 = CFLAG:MASTER:현재위치
SIF ARG:1
	LOCAL = ARG:1

;잠정 목적지에 직접 이동할 수 있는 경우
IF CAN_MOVE(LOCAL, ARG) & 1
	;거기에 이동
	RETURN ARG
ENDIF




;막다른 골목으로부터 갈 수 있는 장소는 고정이므로, 거기를 목표로 한다
SELECTCASE LOCAL
CASE 1408
	RETURN 1407
CASE 1414 TO 1422
	RETURN 1423
CASE 1424 TO 1432
	RETURN 1433
CASE 1434 TO 1441
	RETURN 1443
CASE 1444
	RETURN 1442
ENDSELECT

;직접 이동할 수 없는 경우,  1개가까운 위치를 잠정 목적지로 다시 설정해 루프
;지점 추가시 요점 보충(전케이스 수정하는 것)
SELECTCASE ARG
	CASE 1401
		RETURN 1413
	CASE 1402
		IF INRANGE(LOCAL, 1409,1412)
			RETURN 1409
		ELSE
			RETURN 1413
		ENDIF
	CASE 1403 TO 1407
		RETURN 1413
	CASE 1408
		RETURN 1407
	CASE 1409
		IF GROUPMATCH(LOCAL,1412)
			RETURN 1410
		ELSE
			RETURN 1402
		ENDIF
	CASE 1410
		RETURN 1409
	CASE 1411
		RETURN 1409
	CASE 1412
		RETURN 1410
	CASE 1413
		IF INRANGE(LOCAL, 1414,1433)
			RETURN 1423
		ELSEIF INRANGE(LOCAL, 1434,1444)
			RETURN 1443
		ELSE
			RETURN 1402
		ENDIF
	CASE 1414 TO 1422
		RETURN 1423
	CASE 1423
		IF INRANGE(LOCAL, 1424,1432)
			RETURN 1433
		ELSE
			RETURN 1413
		ENDIF
	CASE 1424 TO 1432
		RETURN 1433
	CASE 1433
		RETURN 1423
	CASE 1434 TO 1442
		RETURN 1443
	CASE 1443
		RETURN 1413
	CASE 1444
		RETURN 1442
ENDSELECT
