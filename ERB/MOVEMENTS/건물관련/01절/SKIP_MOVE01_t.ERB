@SKIP_MOVE_1(ARG, ARG:1)
#DIM 스타트지점

;현재위치 취득
스타트지점 = CFLAG:MASTER:현재위치
SIF ARG:1
	스타트지점 = ARG:1

;잠정 목적지에 직접 이동할 수 있는 경우
IF CAN_MOVE(스타트지점, ARG) & 1
	;거기에 이동
	RETURN ARG
ENDIF

;막다른 골목으로부터 갈 수 있는 장소는 고정이므로, 거기를 목표로 한다
SELECTCASE 스타트지점
;	CASE 101
;		RETURN 102
	CASE 103
		RETURN 104
	CASE 112
		RETURN 107
	CASE 125,128,132
		RETURN 130
	CASE 133,134
		RETURN 124
	CASE MAXROOM
		RETURN 101
ENDSELECT

;직접 이동할 수 없는 경우,  1개가까운 위치를 잠정 목적지로 다시 설정해 루프
;지점 추가시 요점 보충(전케이스 수정하는 것)
SELECTCASE ARG
CASE 101
;산문
	;절로부터는 경내를 목표로 한다
	IF CHK_FOCUS(103, 스타트지점, 122)
	RETURN 102
	;사당으로부터는 다이몬을 목표로 한다
	ELSEIF CHK_FOCUS(124, 스타트지점, 132)
	RETURN 123
	ENDIF
CASE 102
;경내
	;3(으)로부터는 4를 목표로 한다
	IF (스타트지점 == 103)
		RETURN 104
	;10. 19.20으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 110) || (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 106
	;11. 12로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 111) || (스타트지점 == 112)
		RETURN 107
	;13. 16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 109) || (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;8(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 108)
		RETURN 111
	;사당으로부터는 산문를 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 101
	ELSE
	;그 이외의(직접 갈 수 없다) 장소로부터는, 8을 목표로 한다
		RETURN 108
	ENDIF
CASE 103
;본당
	;2(으)로부터는 4를 목표로 한다
	IF (스타트지점 == 102)
		RETURN 104
	;10. 19.20으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 110) || (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 106
	;5. 6.7. 21.22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 105) || (스타트지점 == 106) || (스타트지점 == 107) || (스타트지점 == 121) || (스타트지점 == 122)
		RETURN 102
	;11. 12로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 111) || (스타트지점 == 112)
		RETURN 107
	;9. 13.16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 109) || (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;8(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 108)
		RETURN 111
	;사당으로부터는 강당을 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 104
	ELSE
	;그 이외의장소로부터는, 8을 목표로 한다
		RETURN 108
	ENDIF
CASE 104
;강당
	;6(으)로부터는 3을 목표로 한다
	IF (스타트지점 == 106)
		RETURN 103
	;5. 7.21으로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 105) || (스타트지점 == 107) || (스타트지점 == 121)
		RETURN 102
	;10. 19.20으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 110) || (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 106
	;9. 13.16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 109) || (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;11. 12로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 111) || (스타트지점 == 112)
		RETURN 107
	;8(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 108)
		RETURN 111
	;사당으로부터는 경내를 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 102
	ELSE
	;그 이외의장소로부터는, 8을 목표로 한다
		RETURN 108
	ENDIF
CASE 105
;강당
	;11. 12로부터는 7을 목표로 한다
	IF (스타트지점 == 111) || (스타트지점 == 112)
		RETURN 107
	;1. 4.6. 21.22로부터는 2를 목표로 한다
	ELSEIF GROUPMATCH(스타트지점, 101,104,106,107,121,122)
		RETURN 102
	;3(으)로부터는 4를 목표로 한다
	ELSEIF (스타트지점 == 103)
		RETURN 104
	;10. 19.20으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 110) || (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 106
	;9. 13.16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 109) || (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;8(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 108)
		RETURN 111
	;사당으로부터는 경내를 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 102
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 106
;뒷마당
	;1. 4.5. 7.22로부터는 2를 목표로 한다
	IF GROUPMATCH(스타트지점, 101,103,104,105,107,122)
		RETURN 102
	;11. 12로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 111) || (스타트지점 == 112)
		RETURN 107
	;9. 13.16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 109) || (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;8(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 108)
		RETURN 109
	;사당으로부터는 경내를 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 102
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 107
;봉당
	;8(으)로부터는 11을 목표로 한다
	IF (스타트지점 == 108)
		RETURN 111
	;1. 4.5. 6.21. 22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 101) || (스타트지점 == 104) || (스타트지점 == 105) || (스타트지점 == 106) || (스타트지점 == 121) || (스타트지점 == 122)
		RETURN 102
	;3(으)로부터는 4를 목표로 한다
	ELSEIF (스타트지점 == 103)
		RETURN 104
	;13. 16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;10(으)로부터는 9를 목표로 한다
	ELSEIF (스타트지점 == 110)
		RETURN 109
	;19. 20으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 106
	;사당으로부터는 경내를 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 102
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 108
;거실
	;10(으)로부터는 9를 목표로 한다
	IF (스타트지점 == 110)
		RETURN 109
	;6. 13.16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 106) || (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;19. 20.21으로부터는 6을 목표로 한다
	ELSEIF GROUPMATCH(스타트지점, 119, 120, 121)
		RETURN 106
	;1. 4.22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 101) || (스타트지점 == 104) || (스타트지점 == 122)
		RETURN 102
	;2. 5.12로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 102) || (스타트지점 == 105) || (스타트지점 == 112)
		RETURN 107
	;7(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 107)
		RETURN 111
	;사당으로부터는 봉당을 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 107
	;그 이외의장소로부터는, 9를 목표로 한다
	ELSE
		RETURN 109
	ENDIF
CASE 109
;응접실
	;6. 13.16. 19.20으로부터는 10을 목표로 한다
	IF (스타트지점 == 106) || (스타트지점 == 113) || (스타트지점 == 116) || (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 110
	;2. 21으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 102) || (스타트지점 == 121)
		RETURN 106
	;1. 4.5. 22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 101) || (스타트지점 == 104) || (스타트지점 == 105) || (스타트지점 == 122)
		RETURN 102
	;12(으)로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 112)
		RETURN 107
	;7(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 107)
		RETURN 111
	;사당으로부터는 뒷마당을 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 106
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 110
;툇마루
	;8(으)로부터는 9를 목표로 한다
	IF (스타트지점 == 108)
		RETURN 109
	;2. 21으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 102) || (스타트지점 == 121)
		RETURN 106
	;3(으)로부터는 4를 목표로 한다
	ELSEIF (스타트지점 == 103)
		RETURN 104
	;1. 4.5. 22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 101) || (스타트지점 == 104) || (스타트지점 == 105) || (스타트지점 == 122)
		RETURN 102
	;12(으)로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 112)
		RETURN 107
	;7(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 107)
		RETURN 111
	;사당으로부터는 뒷마당을 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 106
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 111
;부엌
	;2. 5.12로부터는 7을 목표로 한다
	IF (스타트지점 == 102) || (스타트지점 == 105) || (스타트지점 == 112)
		RETURN 107
	;1. 4.6. 22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 101) || (스타트지점 == 104) || (스타트지점 == 106) || (스타트지점 == 122)
		RETURN 102
	;19. 20.21으로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 119) || (스타트지점 == 120) || (스타트지점 == 121)
		RETURN 106
	;10(으)로부터는 9를 목표로 한다
	ELSEIF (스타트지점 == 110)
		RETURN 109
	;13. 16으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 113) || (스타트지점 == 116)
		RETURN 110
	;3(으)로부터는 4를 목표로 한다
	ELSEIF (스타트지점 == 103)
		RETURN 104
	;사당으로부터는 봉당을 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 107
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 112
;목욕탕
	;3(으)로부터는 4를 목표로 한다
	IF (스타트지점 == 3)
		RETURN 4
	;1. 4.22로부터는 2를 목표로 한다
	ELSEIF (스타트지점 == 101) || (스타트지점 == 104) || (스타트지점 == 122)
		RETURN 102
	;21(으)로부터는 6을 목표로 한다
	ELSEIF (스타트지점 == 121)
		RETURN 106
	;2. 5.11으로부터는 7을 목표로 한다
	ELSEIF (스타트지점 == 102) || (스타트지점 == 105) || (스타트지점 == 111)
		RETURN 107
	;6. 13.16. 19.20으로부터는 10을 목표로 한다
	ELSEIF (스타트지점 == 106) || (스타트지점 == 113) || (스타트지점 == 116) || (스타트지점 == 119) || (스타트지점 == 120)
		RETURN 110
	;10(으)로부터는 9를 목표로 한다
	ELSEIF (스타트지점 == 110)
		RETURN 109
	;8(으)로부터는 11을 목표로 한다
	ELSEIF (스타트지점 == 108)
		RETURN 111
	;사당으로부터는 봉당을 목표로 한다
	ELSEIF CHK_FOCUS(123, 스타트지점, 132)
		RETURN 107
	;그 이외의장소로부터는, 8을 목표로 한다
	ELSE
		RETURN 108
	ENDIF
CASE 113
	;나즈린 방에 직접 갈 수 없는 경우, 10을 목표로 한다
	RETURN 110
CASE 114
	;무라사 방에 직접 갈 수 없는 경우, 8을 목표로 한다
	RETURN 108
CASE 115
	;쇼방에 직접 갈 수 없는 경우, 8을 목표로 한다
	RETURN 108
CASE 116
	;이치린 방에 직접 갈 수 없는 경우, 10을 목표로 한다
	RETURN 110
CASE 117
	;누에방에 직접 갈 수 없는 경우, 8을 목표로 한다
	RETURN 108
CASE 118
	;뱌쿠렌 방에 직접 갈 수 없는 경우, 8을 목표로 한다
	RETURN 108
CASE 119
	;당신 방에 직접 갈 수 없는 경우, 6을 목표로 한다
	RETURN 106
CASE 120
	;창고에 직접 갈 수 없는 경우, 06을 목표로 한다
	RETURN 106
CASE 121
	;묘지에 직접 갈 수 없는 경우, 6을 목표로 한다
	RETURN 106
CASE 122
	;범종당에 직접 갈 수 없는 경우, 2를 목표로 한다
	RETURN 102
CASE 123
	;산문 이외의절로부터는, 산문를 목표로 한다
	IF CHK_FOCUS(102, 스타트지점, 122)
		RETURN 101
	ELSEIF 스타트지점 == 126
		RETURN 124
	ELSEIF 스타트지점 == 130
		RETURN 126
	ELSEIF GROUPMATCH(스타트지점, 125,127,128,128,129,131,132)
			RETURN 130
	ELSE
		RETURN 101
	ENDIF
CASE 124
	;절로부터는, 사당 정문을 목표로 한다
	IF CHK_FOCUS(101, 스타트지점, 122)
		RETURN 123
	ELSEIF 스타트지점 == 130
		RETURN 126
	ELSEIF GROUPMATCH(스타트지점, 125,127,128,128,129,131,132)
		RETURN 130
	ELSE
		RETURN 126
	ENDIF
CASE 125
	RETURN 130
CASE 126
	;절로부터는, 사당 광장을 목표로 한다
	IF CHK_FOCUS(101, 스타트지점, 122)
		RETURN 124
	ELSEIF 스타트지점 == 123
		RETURN 124
	ELSEIF GROUPMATCH(스타트지점, 125,127,128,128,129,131,132)
		RETURN 130
	ELSE
		RETURN 130
	ENDIF
CASE 127
	RETURN 130
CASE 128
	RETURN 130
CASE 129
	RETURN 130
CASE 130
	;절로부터는, 도장을 목표로 한다
	IF CHK_FOCUS(101, 스타트지점, 122)
		RETURN 126
	ELSEIF 스타트지점 == 123
		RETURN 126
	ELSEIF 스타트지점 == 124
		RETURN 126
	ELSE
		RETURN 126
	ENDIF
CASE 131
	RETURN 130
CASE 132
	RETURN 130
CASE 133
	RETURN 124
CASE 134
	RETURN 124
ENDSELECT
